var ae=Object.defineProperty;var Z=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var x=(l,e,t)=>e in l?ae(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,W=(l,e)=>{for(var t in e||(e={}))ce.call(e,t)&&x(l,t,e[t]);if(Z)for(var t of Z(e))ue.call(e,t)&&x(l,t,e[t]);return l};import{S as V,i as G,s as J,e as b,c as q,a as T,d as m,b as O,f as E,I as K,t as $,g as v,h as X,l as ee,D as ie,H as g,J as de,K as _e,k as R,n as A,E as me,F as he,G as pe,L as ge,x as L,u as F,M as $e,N as ve,j as D,m as B,O as Q,o as N,P as te,v as H,Q as ye}from"../chunks/vendor-d767adeb.js";const Ee=l=>l.split("").reduce((e,t)=>(e[t]?e[t]+=1:e[t]=1,e),{}),be=l=>{if(Object.keys(l).length===0)return;if(Object.keys(l).length===1)return Object.keys(l)[0];let e=Object.entries(l).map(([n,r])=>({node:n,nodeSum:r})).sort((n,r)=>r.nodeSum-n.nodeSum);for(;e.length>1;){const n=e.pop(),r=e.pop(),o={1:n.node,0:r.node},a=n.nodeSum+r.nodeSum;e.push({node:o,nodeSum:a}),e.sort((f,i)=>i.nodeSum-f.nodeSum)}return e[0].node},qe=l=>{for(const e in l)l[e]=l[e].split("").reverse().join("")},Ce=l=>{if(l===void 0)return;if(typeof l!="object")return{[l]:"0"};const e=n=>{if(typeof n!="object")return{[n]:""};const r=e(n[0]),o=e(n[1]);for(let a in r)r[a]+="0";for(let a in o)o[a]+="1";return W(W({},r),o)},t=e(l);return qe(t),t},Te=l=>l.charCodeAt(0).toString(2),ke=l=>{if(l===void 0)return;let e="";const t=n=>{if(typeof n=="string"){const r=Te(n);e+="1"+"0".repeat(16-r.length)+r;return}else e+="0";t(n[0]),t(n[1])};return t(l),e},we=(l,e)=>l.split("").map(t=>e[t]).join(""),Ie=(l,e)=>{const t=4,n=l.length+e.length+t,r=(16-n%16)%16;return"0".repeat(t-r.toString(2).length)+r.toString(2)+l+e+"0".repeat(r)},ne=l=>{if(typeof l!="string")throw new TypeError("text must be a string");if(l==="")return{frequency:{},tree:void 0,codes:{},codedTree:"",codedText:"",fullCode:""};const e=Ee(l),t=be(e),n=Ce(t),r=ke(t),o=we(l,n),a=Ie(r,o);return{frequencies:e,tree:t,codes:n,codedTree:r,codedText:o,fullCode:a}};class le extends Error{constructor(e){super(e);this.name="InvalidCodeError"}}const Oe=l=>{if(l.length%16!=0||(l.match(/[01]/g)||[]).length<l.length)return;const e=parseInt(l.slice(0,4),2),t=l.slice(4,l.length-e);let n=0,r={};if(t[n]==="1")n++,r=String.fromCharCode(parseInt(t.slice(n,n+16),2)),n+=16;else{const a=f=>{if(!(n+1+16>t.length)){if(t[n]==="0")n++,f["0"]={},a(f["0"]);else{n++;const i=String.fromCharCode(parseInt(t.slice(n,n+16),2));f["0"]=i,n+=16}if(t[n]==="0")n++,f["1"]={},a(f["1"]);else{n++;const i=String.fromCharCode(parseInt(t.slice(n,n+16),2));f["1"]=i,n+=16}}};n++,a(r)}let o="";if(typeof r=="string"){if(t.length-n<=0)throw new le("Invalid code");o=r.repeat(t.length-n)}else{const a=f=>{if(typeof f=="string")return f;if(n>=t.length)throw new le("Invalid code");return a(f[t[n++]])};for(;n<t.length;)o+=a(r)}return o};function Re(l){let e,t,n,r=l[0].length+"",o,a;return{c(){e=$(`Wrong code :(
		`),t=b("br"),n=$(`
		Encoded `),o=$(r),a=$(" bites \xAF\\_(\u30C4)_/\xAF")},l(f){e=v(f,`Wrong code :(
		`),t=q(f,"BR",{}),n=v(f,`
		Encoded `),o=v(f,r),a=v(f," bites \xAF\\_(\u30C4)_/\xAF")},m(f,i){E(f,e,i),E(f,t,i),E(f,n,i),E(f,o,i),E(f,a,i)},p(f,i){i&1&&r!==(r=f[0].length+"")&&X(o,r)},d(f){f&&m(e),f&&m(t),f&&m(n),f&&m(o),f&&m(a)}}}function Ae(l){let e,t,n,r,o,a,f,i,d,h,u=l[1]&&re(l);return{c(){e=$("Original "),t=$(l[1]),n=$(` bites
		`),r=b("br"),o=$(`
		Encoded `),a=$(l[2]),f=$(" bites"),i=b("br"),d=$(`
		Ratio
		`),u&&u.c(),h=ee()},l(s){e=v(s,"Original "),t=v(s,l[1]),n=v(s,` bites
		`),r=q(s,"BR",{}),o=v(s,`
		Encoded `),a=v(s,l[2]),f=v(s," bites"),i=q(s,"BR",{}),d=v(s,`
		Ratio
		`),u&&u.l(s),h=ee()},m(s,c){E(s,e,c),E(s,t,c),E(s,n,c),E(s,r,c),E(s,o,c),E(s,a,c),E(s,f,c),E(s,i,c),E(s,d,c),u&&u.m(s,c),E(s,h,c)},p(s,c){c&2&&X(t,s[1]),c&4&&X(a,s[2]),s[1]?u?u.p(s,c):(u=re(s),u.c(),u.m(h.parentNode,h)):u&&(u.d(1),u=null)},d(s){s&&m(e),s&&m(t),s&&m(n),s&&m(r),s&&m(o),s&&m(a),s&&m(f),s&&m(i),s&&m(d),u&&u.d(s),s&&m(h)}}}function re(l){let e=Math.floor(l[2]/l[1]*100)/100+"",t;return{c(){t=$(e)},l(n){t=v(n,e)},m(n,r){E(n,t,r)},p(n,r){r&6&&e!==(e=Math.floor(n[2]/n[1]*100)/100+"")&&X(t,e)},d(n){n&&m(t)}}}function Se(l){let e;function t(o,a){return o[1]!==null?Ae:Re}let n=t(l),r=n(l);return{c(){e=b("p"),r.c(),this.h()},l(o){e=q(o,"P",{class:!0});var a=T(e);r.l(a),a.forEach(m),this.h()},h(){O(e,"class","svelte-zs7u6i")},m(o,a){E(o,e,a),r.m(e,null)},p(o,[a]){n===(n=t(o))&&r?r.p(o,a):(r.d(1),r=n(o),r&&(r.c(),r.m(e,null)))},i:K,o:K,d(o){o&&m(e),r.d()}}}function je(l,e,t){let n,{encoded:r=""}=e,{original:o=""}=e,a=null;return l.$$set=f=>{"encoded"in f&&t(0,r=f.encoded),"original"in f&&t(3,o=f.original)},l.$$.update=()=>{l.$$.dirty&8&&o!==null&&t(1,a=o.length*16),l.$$.dirty&1&&t(2,n=r.length)},[r,a,n,o]}class se extends V{constructor(e){super();G(this,e,je,Se,J,{encoded:0,original:3})}}function oe(l,e,t){const n=l.slice();return n[3]=e[t],n}function Le(l){let e;return{c(){e=$("Frequency")},l(t){e=v(t,"Frequency")},m(t,n){E(t,e,n)},d(t){t&&m(e)}}}function fe(l,e){let t,n,r=e[3].letter+"",o,a,f=e[3].code+"",i,d,h=K;return{key:l,first:null,c(){t=b("span"),n=$("'"),o=$(r),a=$("': "),i=$(f),this.h()},l(u){t=q(u,"SPAN",{class:!0});var s=T(t);n=v(s,"'"),o=v(s,r),a=v(s,"': "),i=v(s,f),s.forEach(m),this.h()},h(){O(t,"class","frequency-element svelte-fslajw"),this.first=t},m(u,s){E(u,t,s),g(t,n),g(t,o),g(t,a),g(t,i)},p(u,s){e=u,s&1&&r!==(r=e[3].letter+"")&&X(o,r),s&1&&f!==(f=e[3].code+"")&&X(i,f)},r(){d=t.getBoundingClientRect()},f(){de(t),h()},a(){h(),h=_e(t,d,$e,{})},d(u){u&&m(t)}}}function Fe(l){let e,t,n,r=[],o=new Map,a;const f=l[2].default,i=ie(f,l,l[1],null),d=i||Le();let h=l[0];const u=s=>s[3].letter;for(let s=0;s<h.length;s+=1){let c=oe(l,h,s),y=u(c);o.set(y,r[s]=fe(y,c))}return{c(){e=b("div"),t=b("h4"),d&&d.c(),n=R();for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=q(s,"DIV",{class:!0});var c=T(e);t=q(c,"H4",{class:!0});var y=T(t);d&&d.l(y),y.forEach(m),n=A(c);for(let C=0;C<r.length;C+=1)r[C].l(c);c.forEach(m),this.h()},h(){O(t,"class","svelte-fslajw"),O(e,"class","svelte-fslajw")},m(s,c){E(s,e,c),g(e,t),d&&d.m(t,null),g(e,n);for(let y=0;y<r.length;y+=1)r[y].m(e,null);a=!0},p(s,[c]){if(i&&i.p&&(!a||c&2)&&me(i,f,s,s[1],a?pe(f,s[1],c,null):he(s[1]),null),c&1){h=s[0];for(let y=0;y<r.length;y+=1)r[y].r();r=ge(r,c,u,1,s,h,o,e,ve,fe,null,oe);for(let y=0;y<r.length;y+=1)r[y].a()}},i(s){a||(L(d,s),a=!0)},o(s){F(d,s),a=!1},d(s){s&&m(e),d&&d.d(s);for(let c=0;c<r.length;c+=1)r[c].d()}}}function De(l,e,t){let{$$slots:n={},$$scope:r}=e,{frequency:o=[]}=e;return l.$$set=a=>{"frequency"in a&&t(0,o=a.frequency),"$$scope"in a&&t(1,r=a.$$scope)},[o,r,n]}class U extends V{constructor(e){super();G(this,e,De,Fe,J,{frequency:0})}}function Be(l){let e;return{c(){e=$("Codes")},l(t){e=v(t,"Codes")},m(t,n){E(t,e,n)},d(t){t&&m(e)}}}function Ne(l){let e,t,n,r,o,a,f,i,d,h,u,s,c,y,C,M,k,j,P,z;return c=new se({props:{original:l[0],encoded:l[2]}}),C=new U({props:{frequency:l[1]}}),k=new U({props:{frequency:l[3],$$slots:{default:[Be]},$$scope:{ctx:l}}}),{c(){e=b("div"),t=b("h2"),n=$("Encoding"),r=R(),o=b("lable"),a=$(`Input
		`),f=b("textarea"),i=R(),d=b("lable"),h=$(`Result
		`),u=b("textarea"),s=R(),D(c.$$.fragment),y=R(),D(C.$$.fragment),M=R(),D(k.$$.fragment),this.h()},l(p){e=q(p,"DIV",{class:!0});var _=T(e);t=q(_,"H2",{});var S=T(t);n=v(S,"Encoding"),S.forEach(m),r=A(_),o=q(_,"LABLE",{});var I=T(o);a=v(I,`Input
		`),f=q(I,"TEXTAREA",{class:!0}),T(f).forEach(m),I.forEach(m),i=A(_),d=q(_,"LABLE",{});var w=T(d);h=v(w,`Result
		`),u=q(w,"TEXTAREA",{class:!0}),T(u).forEach(m),w.forEach(m),s=A(_),B(c.$$.fragment,_),y=A(_),B(C.$$.fragment,_),M=A(_),B(k.$$.fragment,_),_.forEach(m),this.h()},h(){O(f,"class","svelte-14191at"),u.value=l[2],u.readOnly=!0,O(u,"class","svelte-14191at"),O(e,"class","svelte-14191at")},m(p,_){E(p,e,_),g(e,t),g(t,n),g(e,r),g(e,o),g(o,a),g(o,f),Q(f,l[0]),g(e,i),g(e,d),g(d,h),g(d,u),g(e,s),N(c,e,null),g(e,y),N(C,e,null),g(e,M),N(k,e,null),j=!0,P||(z=te(f,"input",l[4]),P=!0)},p(p,[_]){_&1&&Q(f,p[0]),(!j||_&4)&&(u.value=p[2]);const S={};_&1&&(S.original=p[0]),_&4&&(S.encoded=p[2]),c.$set(S);const I={};_&2&&(I.frequency=p[1]),C.$set(I);const w={};_&8&&(w.frequency=p[3]),_&32&&(w.$$scope={dirty:_,ctx:p}),k.$set(w)},i(p){j||(L(c.$$.fragment,p),L(C.$$.fragment,p),L(k.$$.fragment,p),j=!0)},o(p){F(c.$$.fragment,p),F(C.$$.fragment,p),F(k.$$.fragment,p),j=!1},d(p){p&&m(e),H(c),H(C),H(k),P=!1,z()}}}function He(l,e,t){let n="",r="",o=[],a=[];function f(){n=this.value,t(0,n)}return l.$$.update=()=>{if(l.$$.dirty&3){const i=ne(n);t(2,r=i.fullCode),t(1,o=Object.entries(i.frequencies||{}).map(([d,h])=>({letter:d,code:h})).sort((d,h)=>h.code-d.code)),t(3,a=o.map(({letter:d})=>({letter:d,code:i.codes[d]})))}},[n,o,r,a,f]}class Me extends V{constructor(e){super();G(this,e,He,Ne,J,{})}}function Pe(l){let e;return{c(){e=$("Codes")},l(t){e=v(t,"Codes")},m(t,n){E(t,e,n)},d(t){t&&m(e)}}}function Xe(l){let e,t,n,r,o,a,f,i,d,h,u,s,c,y,C,M,k,j,P,z;return c=new se({props:{original:Y,encoded:l[0]}}),C=new U({props:{frequency:l[1]}}),k=new U({props:{frequency:l[2],$$slots:{default:[Pe]},$$scope:{ctx:l}}}),{c(){e=b("div"),t=b("h2"),n=$("Decoding"),r=R(),o=b("lable"),a=$(`Input
		`),f=b("textarea"),i=R(),d=b("lable"),h=$(`Result
		`),u=b("textarea"),s=R(),D(c.$$.fragment),y=R(),D(C.$$.fragment),M=R(),D(k.$$.fragment),this.h()},l(p){e=q(p,"DIV",{class:!0});var _=T(e);t=q(_,"H2",{});var S=T(t);n=v(S,"Decoding"),S.forEach(m),r=A(_),o=q(_,"LABLE",{});var I=T(o);a=v(I,`Input
		`),f=q(I,"TEXTAREA",{class:!0}),T(f).forEach(m),I.forEach(m),i=A(_),d=q(_,"LABLE",{});var w=T(d);h=v(w,`Result
		`),u=q(w,"TEXTAREA",{class:!0}),T(u).forEach(m),w.forEach(m),s=A(_),B(c.$$.fragment,_),y=A(_),B(C.$$.fragment,_),M=A(_),B(k.$$.fragment,_),_.forEach(m),this.h()},h(){O(f,"class","svelte-1mxeds9"),u.value=Y,u.readOnly=!0,O(u,"class","svelte-1mxeds9"),ye(u,"wrong",Y===null),O(e,"class","svelte-1mxeds9")},m(p,_){E(p,e,_),g(e,t),g(t,n),g(e,r),g(e,o),g(o,a),g(o,f),Q(f,l[0]),g(e,i),g(e,d),g(d,h),g(d,u),g(e,s),N(c,e,null),g(e,y),N(C,e,null),g(e,M),N(k,e,null),j=!0,P||(z=te(f,"input",l[3]),P=!0)},p(p,[_]){_&1&&Q(f,p[0]);const S={};_&1&&(S.encoded=p[0]),c.$set(S);const I={};_&2&&(I.frequency=p[1]),C.$set(I);const w={};_&4&&(w.frequency=p[2]),_&16&&(w.$$scope={dirty:_,ctx:p}),k.$set(w)},i(p){j||(L(c.$$.fragment,p),L(C.$$.fragment,p),L(k.$$.fragment,p),j=!0)},o(p){F(c.$$.fragment,p),F(C.$$.fragment,p),F(k.$$.fragment,p),j=!1},d(p){p&&m(e),H(c),H(C),H(k),P=!1,z()}}}let Y="";function ze(l,e,t){let n="",r="",o="";function a(){n=this.value,t(0,n)}return l.$$.update=()=>{if(l.$$.dirty&3){let f=Oe(n);if(f===void 0)f=null;else{const i=ne(f);t(1,r=Object.entries(i.frequencies||{}).map(([d,h])=>({letter:d,code:h})).sort((d,h)=>h.code-d.code)),t(2,o=r.map(({letter:d})=>({letter:d,code:i.codes[d]})))}}},[n,r,o,a]}class Ve extends V{constructor(e){super();G(this,e,ze,Xe,J,{})}}function Ge(l){let e,t,n,r,o,a,f,i,d;return a=new Me({}),i=new Ve({}),{c(){e=b("main"),t=b("h1"),n=$("Huffman"),r=R(),o=b("div"),D(a.$$.fragment),f=R(),D(i.$$.fragment),this.h()},l(h){e=q(h,"MAIN",{class:!0});var u=T(e);t=q(u,"H1",{class:!0});var s=T(t);n=v(s,"Huffman"),s.forEach(m),r=A(u),o=q(u,"DIV",{class:!0});var c=T(o);B(a.$$.fragment,c),f=A(c),B(i.$$.fragment,c),c.forEach(m),u.forEach(m),this.h()},h(){O(t,"class","svelte-r0vr2d"),O(o,"class","svelte-r0vr2d"),O(e,"class","svelte-r0vr2d")},m(h,u){E(h,e,u),g(e,t),g(t,n),g(e,r),g(e,o),N(a,o,null),g(o,f),N(i,o,null),d=!0},p:K,i(h){d||(L(a.$$.fragment,h),L(i.$$.fragment,h),d=!0)},o(h){F(a.$$.fragment,h),F(i.$$.fragment,h),d=!1},d(h){h&&m(e),H(a),H(i)}}}class Qe extends V{constructor(e){super();G(this,e,null,Ge,J,{})}}export{Qe as default};
